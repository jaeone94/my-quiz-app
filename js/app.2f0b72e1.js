(function(){"use strict";var e={7783:function(e,t,i){t.Z=i.p+"5868511187d56bfc24f03f78fcfd4853.xlsx"},1262:function(e,t,i){var n=i(9242),s=i(3396),r=i(7139);const o={class:"app-container"},u={class:"top-menu"},a=["href"],l={class:"content-container"};function c(e,t,i,n,c,d){const h=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",o,[(0,s._)("div",u,[c.isSidebarOpen?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:t[0]||(t[0]=(...e)=>d.toggleSidebar&&d.toggleSidebar(...e)),class:"hamburger-btn"},"☰"))]),(0,s._)("div",{class:(0,r.C_)(["sidebar-menu",{open:c.isSidebarOpen}])},[(0,s._)("button",{onClick:t[1]||(t[1]=(...e)=>d.toggleSidebar&&d.toggleSidebar(...e)),class:"close-btn"},"✖"),(0,s._)("button",{onClick:t[2]||(t[2]=(...e)=>d.goToHome&&d.goToHome(...e)),class:(0,r.C_)([{"selected-btn":d.isActive("/")},"main-btn"])},"HOME",2),(0,s._)("a",{href:d.downloadUrl,download:"excel-template.xlsx",class:"main-btn download-btn"},"양식 다운로드",8,a),(0,s._)("button",{onClick:t[3]||(t[3]=(...e)=>d.goToUpload&&d.goToUpload(...e)),class:(0,r.C_)([{"selected-btn":d.isActive("/Upload")},"main-btn"])},"문제 업로드",2),(0,s._)("button",{onClick:t[4]||(t[4]=(...e)=>d.goToQuiz&&d.goToQuiz(...e)),class:(0,r.C_)([{"selected-btn":d.isActive("/Quiz")},"main-btn"])},"문제 풀기",2)],2),(0,s._)("div",l,[(0,s.Wm)(h)])])}i(560);var d={data(){return{isSidebarOpen:!1}},computed:{downloadUrl(){return i(7783).Z}},methods:{toggleSidebar(){this.isSidebarOpen=!this.isSidebarOpen},goToHome(){this.$router.push("/"),this.isSidebarOpen=!1},goToUpload(){this.$router.push("/Upload"),this.isSidebarOpen=!1},goToQuiz(){this.$router.push("/Quiz"),this.isSidebarOpen=!1},isActive(e){return this.$route.path===e}}},h=i(89);const z=(0,h.Z)(d,[["render",c]]);var p=z,w=i(2483);const f=e=>((0,s.dD)("data-v-fbf548c8"),e=e(),(0,s.Cn)(),e),g={class:"my-home-container"},m=f((()=>(0,s._)("h1",{class:"home-title"},"문제 업로드 & 풀기 !",-1))),b={class:"big-btns-container"},v=f((()=>(0,s._)("button",{class:"big-btn"},"문제 업로드",-1))),Q=f((()=>(0,s._)("button",{class:"big-btn"},"문제 풀기",-1)));function k(e,t){const i=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",g,[m,(0,s._)("div",b,[(0,s.Wm)(i,{to:"/Upload"},{default:(0,s.w5)((()=>[v])),_:1}),(0,s.Wm)(i,{to:"/Quiz"},{default:(0,s.w5)((()=>[Q])),_:1})])])}const D={},_=(0,h.Z)(D,[["render",k],["__scopeId","data-v-fbf548c8"]]);var C=_;const y=e=>((0,s.dD)("data-v-19565bac"),e=e(),(0,s.Cn)(),e),q={class:"upload-container"},A=y((()=>(0,s._)("h1",{class:"upload-title"},"문제 업로드",-1))),x=y((()=>(0,s._)("p",{class:"upload-guide"},[(0,s.Uk)("다운로드한 엑셀 양식에 문제와 답을 작성하고 업로드해주세요. "),(0,s._)("br"),(0,s.Uk)("( *.xlsx 확장자만 업로드 가능합니다.)")],-1))),S={key:0,class:"errorMessage"};function O(e,t,i,n,o,u){return(0,s.wg)(),(0,s.iD)("div",q,[A,x,(0,s._)("input",{type:"file",onChange:t[0]||(t[0]=(...e)=>u.handleFileUpload&&u.handleFileUpload(...e)),ref:"fileInput"},null,544),o.errorMessage?((0,s.wg)(),(0,s.iD)("div",S,(0,r.zw)(o.errorMessage),1)):(0,s.kq)("",!0)])}var T=i(7092),U={data(){return{errorMessage:null}},methods:{handleFileUpload(e){const t=e.target.files;if(!t.length)return;const i=t[0];if("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"!==i.type)return this.errorMessage="업로드한 파일이 xlsx 파일이 아닙니다.",void(this.$refs.fileInput.value=null);const n=new FileReader;n.onload=e=>{const t=e.target.result,i=T.ij(t,{type:"binary"}),n=i.SheetNames[0],s=i.Sheets[n],r=T.P6.sheet_to_json(s);this.excelData=r;const o={Comment:null,"문제":null,"보기A":null,"보기B":null,"보기C":null,"보기D":null,"보기E":null,"정답1":null,"정답2":null,"정답3":null,"정답4":null,"정답5":null,"해설":null},u=this.excelData.map((e=>({...o,...e}))),a=["문제","보기A","보기B","보기C","정답1"];let l=!1;u.forEach((e=>{if(a.forEach((t=>{if(!e[t]||" "===e[t]||""===e[t])return this.errorMessage=`${t} 필드에 올바르지 않은 값이 있습니다.`,void(l=!0)})),l)return;const t=["정답1","정답2","정답3","정답4","정답5"];t.forEach((t=>{const i=e[t];if(i&&!["A","B","C","D","E"].includes(i.toUpperCase()))return this.errorMessage=`${t} 필드에 유효한 정답(A, B, C, D, E)이 아닌 값이 있습니다.`,void(l=!0)}))})),l||(this.excelData=u),console.log(this.excelData),this.saveProcess(this.excelData)},n.readAsBinaryString(i)},saveProcess(e){const t=prompt("데이터의 이름을 입력하세요:");t&&""!==t.trim()?this.saveToDB(t,e).then((()=>{alert("성공적으로 저장되었습니다."),this.$router.push("/Quiz")})).catch((e=>{console.error("저장 중 오류 발생:",e),alert("저장에 실패하였습니다.")})):alert("올바른 이름을 입력하세요.")},async saveToDB(e,t){const i=this.$db,n={name:e,data:t,inputdate:new Date};return i.quizzes.add(n)}}};const I=(0,h.Z)(U,[["render",O],["__scopeId","data-v-19565bac"]]);var $=I;const M=e=>((0,s.dD)("data-v-2f8c9948"),e=e(),(0,s.Cn)(),e),j={class:"quiz-container"},P={key:0,class:"quiz-list"},E=M((()=>(0,s._)("h1",null,"문제 풀기",-1))),B=M((()=>(0,s._)("p",null,"업로드한 문제를 풀면서 학습하기",-1))),Z={class:"quiz-item"},H={class:"quiz-info"},R={class:"quiz-title"},V={class:"quiz-datetime"},F=["onClick"],K=["onClick"],W={key:0},L=M((()=>(0,s._)("p",null,"먼저 문제를 업로드 해주세요.",-1))),Y=[L];function N(e,t,i,n,o,u){const a=(0,s.up)("QuizDetail");return(0,s.wg)(),(0,s.iD)("div",j,[o.showQuizDetail?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",P,[E,B,(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(u.sortedQuizzes,(e=>((0,s.wg)(),(0,s.iD)("li",{key:e.id},[(0,s._)("div",Z,[(0,s._)("div",H,[(0,s._)("span",R,(0,r.zw)(e.name),1),(0,s._)("span",V,(0,r.zw)(u.formatQuizDateTime(e.inputdate)),1)]),(0,s._)("button",{class:"start",onClick:t=>u.startQuiz(e.id)},"퀴즈 시작",8,F),(0,s._)("button",{class:"delete",onClick:t=>u.deleteQuiz(e.id)},"삭제",8,K)])])))),128))]),0===o.quizzes.length?((0,s.wg)(),(0,s.iD)("div",W,Y)):(0,s.kq)("",!0)])),o.showQuizDetail?((0,s.wg)(),(0,s.j4)(a,{key:1,quizDetail:e.selectedQuiz,onClose:u.closeQuizDetail},null,8,["quizDetail","onClose"])):(0,s.kq)("",!0)])}const G=e=>((0,s.dD)("data-v-70d9cfb9"),e=e(),(0,s.Cn)(),e),J={class:"quiz-detail-container"},X={class:"quiz-header-buttons"},ee={class:"quiz-detail-header"},te={key:0,class:"question-badge"},ie={key:0,width:"30",height:"30"},ne=G((()=>(0,s._)("circle",{cx:"15",cy:"15",r:"13",stroke:"#3e9c41","stroke-width":"2",fill:"none"},null,-1))),se=[ne],re={key:1,width:"30",height:"30"},oe=G((()=>(0,s._)("line",{x1:"0",y1:"0",x2:"30",y2:"30",stroke:"red","stroke-width":"2"},null,-1))),ue=G((()=>(0,s._)("line",{x1:"30",y1:"0",x2:"0",y2:"30",stroke:"red","stroke-width":"2"},null,-1))),ae=[oe,ue],le={class:"quiz-options"},ce=["name","value","disabled"],de=["onClick"],he={key:0,class:"quiz-answer"},ze={key:0,class:"explanation-section"},pe=G((()=>(0,s._)("h4",null,"해설",-1))),we={class:"comment-section"},fe=G((()=>(0,s._)("h4",null,"메모",-1))),ge={key:2,class:"last-quiz"};function me(e,t,i,o,u,a){return(0,s.wg)(),(0,s.iD)("div",J,[(0,s._)("div",X,[u.currentQuizIndex>0?((0,s.wg)(),(0,s.iD)("button",{key:0,class:"prev-quiz",onClick:t[0]||(t[0]=(...e)=>a.goToPreviousQuestion&&a.goToPreviousQuestion(...e))},"←")):(0,s.kq)("",!0),(0,s._)("button",{class:"stop-quiz-button",onClick:t[1]||(t[1]=(...e)=>a.exitQuiz&&a.exitQuiz(...e))},"문제 그만풀기")]),(0,s._)("div",ee,[u.showAnswer?((0,s.wg)(),(0,s.iD)("div",te,[u.isCorrect?((0,s.wg)(),(0,s.iD)("svg",ie,se)):((0,s.wg)(),(0,s.iD)("svg",re,ae))])):(0,s.kq)("",!0),(0,s._)("h2",null,(0,r.zw)(u.currentQuizIndex+1)+". "+(0,r.zw)(a.currentQuiz.문제),1)]),(0,s._)("div",le,[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.shuffledOptions,((e,i)=>((0,s.wg)(),(0,s.iD)("li",{key:i},[(0,s.wy)((0,s._)("input",{type:"checkbox",name:a.currentQuiz.문제,value:e,"onUpdate:modelValue":t[2]||(t[2]=e=>u.selectedAnswers=e),disabled:a.isSingleAnswer&&a.isSelected(e)||u.showAnswer},null,8,ce),[[n.e8,u.selectedAnswers]]),(0,s._)("span",{style:(0,r.j5)(a.optionStyle(e)),onClick:t=>a.toggleAnswer(e)},(0,r.zw)(e),13,de)])))),128))]),u.showAnswer?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:0,class:"submit-quiz",onClick:t[3]||(t[3]=(...e)=>a.checkAnswer&&a.checkAnswer(...e))},"제출"))]),u.showAnswer?((0,s.wg)(),(0,s.iD)("div",he,[a.currentQuiz.해설?((0,s.wg)(),(0,s.iD)("div",ze,[pe,(0,s._)("p",null,(0,r.zw)(a.currentQuiz.해설),1)])):(0,s.kq)("",!0),(0,s._)("div",we,[fe,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":t[4]||(t[4]=e=>a.currentQuiz.Comment=e),class:"comment-box",onChange:t[5]||(t[5]=e=>u.isChangedComment=!0)},null,544),[[n.nr,a.currentQuiz.Comment]])]),u.currentQuizIndex<this.quizDetail.data.length-1?((0,s.wg)(),(0,s.iD)("button",{key:1,class:"next-quiz",onClick:t[6]||(t[6]=(...e)=>a.nextQuestion&&a.nextQuestion(...e))},"다음문제")):(0,s.kq)("",!0),u.currentQuizIndex===this.quizDetail.data.length-1?((0,s.wg)(),(0,s.iD)("span",ge,"마지막 문제입니다.")):(0,s.kq)("",!0),u.currentQuizIndex===this.quizDetail.data.length-1?((0,s.wg)(),(0,s.iD)("button",{key:3,class:"restart-quiz",onClick:t[7]||(t[7]=(...e)=>a.restartQuiz&&a.restartQuiz(...e))},"처음부터")):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])}var be={props:{quizDetail:{type:Object,required:!0}},data(){return{quizzesRandomized:this.shuffleArray(this.quizDetail.data),currentQuizIndex:0,selectedAnswers:[],showAnswer:!1,isCorrect:!1,isChangedComment:!1}},computed:{isSingleAnswer(){return 1===this.correctAnswersValues.length},currentQuiz(){return this.quizzesRandomized[this.currentQuizIndex]},inputType(){return this.currentQuiz.정답2?"checkbox":"radio"},shuffledOptions(){let e=["보기A","보기B","보기C","보기D","보기E"].filter((e=>this.currentQuiz[e])).map((e=>this.currentQuiz[e]));return e.sort((()=>Math.random()-.5))},correctAnswers(){return this.currentQuiz?["정답1","정답2","정답3","정답4","정답5"].filter((e=>this.currentQuiz[e])).map((e=>this.currentQuiz[e])):[]},correctAnswersValues(){return this.currentQuiz?this.correctAnswers.map((e=>this.currentQuiz["보기"+e])):[]}},methods:{isSelected(e){return this.selectedAnswers.length>0&&this.selectedAnswers[0]!==e},shuffleArray(e){let t=[...e];for(let i=t.length-1;i>0;i--){const e=Math.floor(Math.random()*(i+1));[t[i],t[e]]=[t[e],t[i]]}return t},checkAnswer(){this.isCorrect=this.selectedAnswers.sort().toString()===this.correctAnswersValues.sort().toString(),this.showAnswer=!0},goToPreviousQuestion(){this.currentQuizIndex--,this.selectedAnswers=[],this.showAnswer=!1},exitQuiz(){this.$emit("close")},isOptionCorrect(e){return this.correctAnswersValues.includes(e)},optionStyle(e){return this.showAnswer?this.isOptionCorrect(e)?{color:"#3e9c41",fontWeight:"bold"}:{color:"#f44336"}:{cursor:"pointer"}},toggleAnswer(e){if(this.isSingleAnswer&&this.isSelected(e)||this.showAnswer)return;const t=this.selectedAnswers.indexOf(e);-1===t?this.selectedAnswers.push(e):this.selectedAnswers.splice(t,1)},nextQuestion(){this.isChangedComment&&(this.updateComment(this.quizDetail.id,this.currentQuiz.문제,this.currentQuiz.Comment),this.isChangedComment=!1),this.currentQuizIndex++,this.selectedAnswers=[],this.showAnswer=!1},restartQuiz(){this.isChangedComment&&(this.updateComment(this.quizDetail.id,this.currentQuiz.문제,this.currentQuiz.Comment),this.isChangedComment=!1),this.quizzesRandomized=this.shuffleArray(this.quizDetail.data),this.currentQuizIndex=0,this.selectedAnswers=[],this.showAnswer=!1},async updateComment(e,t,i){const n=this.$db,s=await n.quizzes.get(e);console.log(s);const r=s.data.find((e=>e.문제==t));console.log(r),r?(r.Comment=i,await n.quizzes.put(s)):console.error("해당 문제를 찾을 수 없습니다.")}}};const ve=(0,h.Z)(be,[["render",me],["__scopeId","data-v-70d9cfb9"]]);var Qe=ve,ke={components:{QuizDetail:Qe},data(){return{quizzes:[],showQuizDetail:!1}},computed:{sortedQuizzes(){return[...this.quizzes].sort(((e,t)=>new Date(t.inputdate)-new Date(e.inputdate)))}},created(){this.fetchQuizzes()},methods:{async fetchQuizzes(){try{const e=this.$db,t=await e.quizzes.toArray();this.quizzes=t,console.log(this.quizzes)}catch(e){console.error("퀴즈 데이터 가져오기 오류:",e)}},async deleteQuiz(e){if(confirm("정말로 삭제하시겠습니까? 삭제 후 복구할 수 없습니다."))try{const t=this.$db;await t.quizzes.where({id:e}).delete(),this.fetchQuizzes()}catch(t){console.error("퀴즈 삭제 오류:",t)}},formatQuizDateTime(e){const t=new Date(e),i=t.toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"}),n=t.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"});return`${i} ${n}`},startQuiz(e){this.selectedQuiz=this.quizzes.find((t=>t.id===e)),this.showQuizDetail=!0},closeQuizDetail(){this.showQuizDetail=!1,this.selectedQuiz=null}}};const De=(0,h.Z)(ke,[["render",N],["__scopeId","data-v-2f8c9948"]]);var _e=De;const Ce=[{path:"/",name:"MyHome",component:C},{path:"/Upload",name:"Upload",component:$},{path:"/Quiz",name:"Quiz",component:_e}],ye=(0,w.p7)({history:(0,w.r5)(),routes:Ce});var qe=ye,Ae=i(7603);const xe=new Ae.ZP("QuizDatabase");xe.version(1).stores({quizzes:"++id, name, data, inputdate"}),xe.open().catch((e=>{console.error("데이터베이스 열기 오류:",e)}));const Se=(0,n.ri)(p);Se.config.globalProperties.$db=xe,Se.use(qe).mount("#app")}},t={};function i(n){var s=t[n];if(void 0!==s)return s.exports;var r=t[n]={exports:{}};return e[n].call(r.exports,r,r.exports,i),r.exports}i.m=e,function(){var e=[];i.O=function(t,n,s,r){if(!n){var o=1/0;for(c=0;c<e.length;c++){n=e[c][0],s=e[c][1],r=e[c][2];for(var u=!0,a=0;a<n.length;a++)(!1&r||o>=r)&&Object.keys(i.O).every((function(e){return i.O[e](n[a])}))?n.splice(a--,1):(u=!1,r<o&&(o=r));if(u){e.splice(c--,1);var l=s();void 0!==l&&(t=l)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[n,s,r]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){i.p="/my-quiz-app/"}(),function(){var e={143:0};i.O.j=function(t){return 0===e[t]};var t=function(t,n){var s,r,o=n[0],u=n[1],a=n[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(s in u)i.o(u,s)&&(i.m[s]=u[s]);if(a)var c=a(i)}for(t&&t(n);l<o.length;l++)r=o[l],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return i.O(c)},n=self["webpackChunkmy_quiz_app"]=self["webpackChunkmy_quiz_app"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=i.O(void 0,[998],(function(){return i(1262)}));n=i.O(n)})();
//# sourceMappingURL=app.2f0b72e1.js.map